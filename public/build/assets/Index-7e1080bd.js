import{r,T as L,d as M,k as a,o as f,c as p,w as e,b as t,q as P,h as u,g as S,t as F,x as H,u as i,a as N}from"./app-f54ee0bf.js";import{_ as J}from"./AdminLayout-faa73e17.js";import{_ as K}from"./BreadCrumbs-6e00fa35.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Logo-3d816051.js";import"./logo-b61dfbc7.js";import"./links-1531fbc0.js";const Q=N("span",{class:"font-weight-bold text-uppercase text-subtitle-1"}," ¡Página de gestión de roles! ",-1),W=N("div",{class:"text-wrap text-justify"}," Los roles en un sistema brindan control y administración de accesos al asignar funciones y permisos específicos a los usuarios, garantizando la seguridad y eficiencia del sistema. ¡Aquí puede enumerar, crear, actualizar o eliminar funciones! ",-1),le={__name:"Index",props:{roles:{type:Object,default:()=>({})},can:{type:Object,default:()=>({})}},setup(d){const v=d,O=[{title:"Dashboard",disabled:!0,href:"/dashboard"},{title:"Roles",disabled:!1,href:"/dashboard/role"}];r(!1);let j=r(!1);const l=L({name:"",description:""}),z=[{title:"Nombre",key:"name"},{title:"Descripción",key:"description"},{title:"Actions",key:"actions",sortable:!1}];let m=r(-1);const b=r({name:"",calories:0,fat:0,carbs:0,protein:0}),I=M(()=>m.value===-1?"Crear nuevo rol":"Editar rol");r(!1);const g=r(!0),_=r(null);function D(){l.post(route("role.store"),{preserveScroll:!0,onSuccess:n=>{console.log(n)}}),console.log(l)}function R(n){m=v.roles.data.indexOf(n),console.log(m),Object.assign(b,n),j.value=!0}function U(n){m=v.roles.data.indexOf(n),Object.assign(b,n)}return(n,s)=>{const $=a("v-alert"),c=a("v-col"),x=a("v-text-field"),y=a("v-toolbar"),k=a("v-icon"),V=a("v-btn"),A=a("v-data-table"),h=a("v-card-text"),w=a("v-card"),B=a("v-card-title"),T=a("v-textarea"),C=a("v-row"),q=a("v-form"),E=a("v-container");return f(),p(J,null,{default:e(()=>[t(K,{items:O,name:"Gestion de Rol"}),t(E,null,{default:e(()=>[t(C,null,{default:e(()=>[t(c,{cols:"12"},{default:e(()=>[t($,{modelValue:g.value,"onUpdate:modelValue":s[0]||(s[0]=o=>g.value=o),closable:!0,border:"start",class:"mb-3","close-label":"Close Alert",variant:"tonal"},{title:e(()=>[Q]),default:e(()=>[W]),_:1},8,["modelValue"])]),_:1}),t(c,null,{default:e(()=>[t(w,{class:"max-w-7xl mx-auto sm:px-6 lg:px-8 mb-2"},{default:e(()=>[t(h,{class:"bg-white rounded-lg"},{default:e(()=>[t(A,{headers:z,items:d.roles.data,search:_.value,"item-value":"name"},P({top:e(()=>[t(y,{flat:!0,class:"rounded"},{default:e(()=>[t(x,{modelValue:_.value,"onUpdate:modelValue":s[1]||(s[1]=o=>_.value=o),"append-inner-icon":"mdi-magnify",class:"mx-2",clearable:"",density:"compact","hide-details":"",label:"Search templates","single-line":"",variant:"solo"},null,8,["modelValue"])]),_:1})]),"no-data":e(()=>[t(V,{color:"primary",onClick:n.initialize},{default:e(()=>[u(" Reset ")]),_:1},8,["onClick"])]),_:2},[d.can.edit||d.can.delete?{name:"item.actions",fn:e(({item:o})=>[d.can.edit?(f(),p(k,{key:0,class:"me-2",size:"small",onClick:G=>R(o.raw)},{default:e(()=>[u(" mdi-pencil ")]),_:2},1032,["onClick"])):S("",!0),d.can.delete?(f(),p(k,{key:1,size:"small",onClick:G=>U(o.raw)},{default:e(()=>[u(" mdi-delete ")]),_:2},1032,["onClick"])):S("",!0)]),key:"0"}:void 0]),1032,["items","search"])]),_:1})]),_:1})]),_:1}),t(c,null,{default:e(()=>[t(w,{class:"max-w-7xl mx-auto sm:px-6 lg:px-8 mb-2"},{default:e(()=>[t(y,{cards:"",dark:"",flat:""},{default:e(()=>[t(B,null,{default:e(()=>[u(F(I.value),1)]),_:1})]),_:1}),t(h,{class:"bg-white rounded-b-lg"},{default:e(()=>[t(q,{onSubmit:H(D,["prevent"])},{default:e(()=>[t(C,null,{default:e(()=>[t(c,{cols:"12"},{default:e(()=>[t(x,{modelValue:i(l).name,"onUpdate:modelValue":s[2]||(s[2]=o=>i(l).name=o),"error-messages":i(l).errors.name,density:"compact",label:"Nombre",variant:"outlined"},null,8,["modelValue","error-messages"])]),_:1}),t(c,{cols:"12"},{default:e(()=>[t(T,{modelValue:i(l).description,"onUpdate:modelValue":s[3]||(s[3]=o=>i(l).description=o),"error-messages":i(l).errors.description,density:"compact",label:"Descripción",variant:"outlined"},null,8,["modelValue","error-messages"])]),_:1}),t(c,null,{default:e(()=>[t(V,{block:!0,disabled:i(l).processing,color:"primary",type:"submit"},{default:e(()=>[u(" agregar ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{le as default};
